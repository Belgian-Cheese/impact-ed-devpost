@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

:root {
    /* Light Mode Colors - refined for a more modern look */
    --primary-color: #724bff;
    --primary-dark-color: #2980b9;
    --secondary-color: #f8f9fa;
    --text-color: #2c3e50;
    --text-light-color: #6c757d;
    --hover-color: #e9ecef;
    --accent-color: #e74c3c;
    --success-color: #2ecc71;
    --warning-color: #f39c12;
    --error-color: #c0392b;
    --info-color: #3498db;

    /* Dark Mode Colors - refined for better contrast and readability */
    --dark-bg: #1a202c;
    --dark-secondary-color: #2d3748;
    --dark-text-color: #ca6eff;
    --dark-text-light-color: #a0aec0;
    --dark-hover-color: #00000000;

    /* Shadows - slightly adjusted for depth */
    --box-shadow-light: 0 0.7vh 2vh rgba(0,0,0,0.09);
    --box-shadow-medium: 0 0.9vh 2.5vh rgba(0,0,0,0.12);
    --box-shadow-dark: 0 1.2vh 3vh rgba(0,0,0,0.16);

    /* Transitions - kept the same */
    --transition-slow: all 0.5s ease;
    --transition-fast: all 0.3s ease;
}

body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    color: var(--text-color);
    background-color: #f8f9fa;
    line-height: 1.6;
    overflow-x: hidden;
    background-image: linear-gradient(to bottom, #f0f0f0, #e9e9e9);
    transition: var(--transition-slow);
}

body.dark-mode {
    color: var(--dark-text-color);
    background-color: var(--dark-bg);
    background-image: linear-gradient(to bottom, #333, #222);
}

.container {
    display: flex;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
}

/* Toggle Switch */
.toggle-container {
    position: absolute;
    top: 3.5vh;
    right: 3.5vh;
    display: flex;
    align-items: center;
    cursor: pointer;
    z-index: 100;
    transition: var(--transition-fast);
    animation: fadeIn 0.7s ease;
}

.toggle-container span {
    margin-left: 1.8vh;
    font-size: 2.3vh;
    font-weight: 500;
}

.toggle-switch {
    position: relative;
    display: inline-block;
    width: 8.5vh;
    height: 4.5vh;
    border-radius: 4vh;
    background-color: var(--secondary-color);
    transition: background-color 0.3s ease;
    border: 0.2vh solid var(--text-light-color);
}

.toggle-switch::before {
    content: "";
    position: absolute;
    width: 3.3vh;
    height: 3.3vh;
    border-radius: 50%;
    background-color: var(--text-light-color);
    top: 0.6vh;
    left: 0.6vh;
    transition: all 0.3s ease;
}

.toggle-container input:checked + .toggle-switch {
    background-color: var(--primary-color);
    border: none;
}

.toggle-container input:checked + .toggle-switch::before {
    left: 4.7vh;
    background-color: #fff;
}

.toggle-container input {
    display: none;
}

/* Logo Container */
.logo-container {
    width: 37vh; /* 260px / 16px */
    position: fixed;
    transition: var(--transition-slow);
    z-index: 1000;
    padding: 1.25rem 0; /* 20px / 16px */
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #f8f9fa;
}

.logo-container.dark-mode{
    background-color: #292929;
    background-image: linear-gradient(to bottom, #333, #333);
}
.toolbar-container {
    width: 37vh;
    position: fixed;
    transition: var(--transition-slow);
    z-index: 1000;
    overflow-y: auto;
    height: 100vh;
    margin-top: 19vh;
}
.toolbar-container::-webkit-scrollbar {
    display: none;
}
.menu {
    list-style: none;
    padding: 0;
    margin: 0;
    width: 100%;
    white-space: nowrap;
    display: flex;
    flex-direction: column; /* Change to column for vertical layout */
    flex-grow: 1;
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none;  /* Internet Explorer 10+ */
    overflow-y: auto; /* ADDED */
}

.content {
    flex: 1;
    padding: 5vh;
    overflow-y: auto;
    transition: var(--transition-slow);
    margin-left: 39vh;
    margin-top: 14.9vh;
}
@media (max-width: 768px) {
    .logo-container{
        width: 100%;
        height: auto;
        position: static;
    }
    .toolbar-container {
        width: 100%;
        height: auto;
         position: static;
          padding-bottom: 0;
         margin-top: 0;
          display: block; /* ADDED */
    }
}
/* Toolbar */
.toolbar {
    width: 100%;
    display: flex;
    flex-direction: column;
    background-color: var(--secondary-color);

    padding: 4.5vh 0; /* Keep the top padding */
    transition: var(--transition-slow);
    background-image: linear-gradient(to bottom, #f8f8f8, #e9e9e9);
}

.toolbar.dark-mode {
    background-color: var(--dark-secondary-color);
    background-image: linear-gradient(to bottom, #333, #292929);
}

.logo {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    margin-bottom: 5vh;
    padding: 0 4vh;
    animation: fadeIn 0.6s ease;
}

.logo-icon {
    width: 5vh;
    height: 5vh;
    margin-right: 2vh;
    color: var(--primary-color);
}

.logo span {
    background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-size: 5vh;
    font-weight: Bold;
}

.logo.dark-mode span {
    color: var(--dark-text-color);
}


.menu-items-container {
    width: 100%;
    overflow-y: auto;
    flex-grow: 1; /* Allow container to expand and take available space */
}

.menu {
    list-style: none;
    padding: 0;
    margin: 0;
    width: 100%;
    white-space: nowrap;
    display: flex;
    flex-direction: column; /* Change to column for vertical layout */
    flex-grow: 1;
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none;  /* Internet Explorer 10+ */
    overflow-y: auto; /* ADDED */
}

.menu::-webkit-scrollbar {
    display: none; /* Chrome, Safari, and Opera */
}

.menu-item {
    padding: 2.7vh 4vh;
    display: flex;
    font-size: 3vh;
    font-weight: 500;
    color: var(--text-light-color);
    align-items: center;
    cursor: pointer;
    position: relative;
    overflow: hidden;
    margin-top: 2vh;
    transition: var(--transition-fast);
    animation: slideInFromLeft 0.5s ease;
    border-radius: 1vh;
    margin-left: 1vh;
    margin-right: 1vh;
    outline: none; /*Added to make toolbar focusable*/
    flex: 0 0 auto;
}

.menu-item:nth-child(2) {
    animation-delay: 0.1s;
}

.menu-item:nth-child(3) {
    animation-delay: 0.2s;
}

.menu-item:nth-child(4) {
    animation-delay: 0.3s;
}

.menu-item:hover,
.menu-item.focused {
    background-color: #fdb2a9;
    transform: translateX(1vh);
}

.menu-item.dark-mode:hover,
.menu-item.dark-mode.focused {
    background-color: var(--dark-hover-color);
}

.menu-item:hover{
    color: #97008b;
    font-weight: 600;
    font-size: 3.5vh;
}
.menu-item:hover .icon{
    color: white;
}


.menu-item.active {
    background-color: var(--primary-color);
    color: white;
}

.menu-item.active .icon {
    color: white;
}

.icon {
    margin-right: 2vh;
    font-size: 2.7vh;
    color: var(--text-light-color);
    transition: color 0.3s ease;
}

.icon.dark-mode {
    color: var(--dark-text-light-color);
}

/* Content */
.content {
    flex: 1;
    padding: 5vh;
    overflow-y: auto;
    transition: var(--transition-slow);
    margin-left: 39vh;
    margin-top: 12vh;
}
/* Language Selector*/

/* Welcome Banner */
.welcome-banner {
    background-image:linear-gradient(135deg, #ac95ff, #ffa298);
    padding: 5vh;
    border-radius: 2vh;
    margin-bottom: 4vh;
    box-shadow: var(--box-shadow-light);
    text-align: center;
    animation: fadeIn 0.7s ease;

    
}


.welcome-banner.dark-mode {
    background-image: linear-gradient(135deg, #2d3748, #2d3748);
}

.welcome-banner h1 {
    margin-bottom: 2vh;
    color: var(--text-color) ;
    font-weight: 600;
    font-size: 4vh;
    animation: slideInDown 0.7s ease;

}

.welcome-banner.dark-mode h1 {
    color: var(--dark-text-color);
}

.welcome-banner p {
    color: var(--text-color);
    font-size: 2.8vh;
    animation: slideInUp 0.7s ease;
}

.welcome-banner.dark-mode p {
    color: #ffca25;
}

/* Dashboard Grid */
.card-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    justify-content: flex-start;
    animation: fadeInUp 0.8s ease;
}

@media (max-width: 1350px) {
    .card-container {
        grid-template-columns: repeat(1, 1fr);  /* Force 1 column */
    }
}

@media (min-width: 1351px) {
    .card-container {
        grid-template-columns: repeat(2, 1fr);  /* Force 2 columns */
    }
}

@media (max-width: 768px) {
    .card-container {
        grid-template-columns: 1fr; /* Force 1 column on smaller screens */
    }
}


/* Card Styling */
.card {
    background-color: #fff;
    padding: 4.5vh;
    border-radius: 2vh;
    box-shadow: var(--box-shadow-light);
    transition: transform 0.4s ease, box-shadow 0.4s ease;
    cursor: pointer;
    outline: none;
    animation: fadeIn 0.9s ease;
    height: fit-content;
    flex: 1 1 55vh;
}

.card.dark-mode {
    background-color: var(--dark-secondary-color);
}

.card:hover,
.card.focused {
    transform: translateY(-1vh);
    box-shadow: var(--box-shadow-medium);
}

.card h2 {
    margin-bottom: 2.5vh;
    color: orangered;
    font-weight: 600;
    font-size: 3.2vh;
}

.card.dark-mode h2 {
    color: var(--dark-text-color);
}

/* Chart Container */
.chart {
    position: relative;
    width: 100%;
    height: 33vh;
    margin-bottom: 4vh;
}

#accuracyChart {
    width: 100% !important;
    height: 100% !important;
    object-fit: contain;
    margin-top: 1vh;
    animation: scaleIn 1s ease;
}

/* Learning Pace Display */
.pace-display {
    display: flex;
    align-items: center;
    font-size: 4vh;
    margin-bottom: 2vh;
    color: var(--primary-color);

}

body.dark-mode .pace-display {
    color:  #ffda00;
}

.card.dark-mode {
    color: #ffda00;
}



.star {
    margin-right: 2vh;
    color: var(--success-color);

}


.percentage {
    font-weight: 600;
    font-size: 4.7vh;

}

.progress-bar {
    background-color: var(--secondary-color);
    height: 2vh;
    border-radius: 1vh;
    overflow: hidden;
    margin-bottom: 2vh;

}

.progress-bar.dark-mode {
    background-color: var(--dark-hover-color);
}

.progress-bar-inner {
    height: 100%;
    background-color: var(--primary-color);
    border-radius: 1vh;
    width: 85%;
    transition: width 0.9s ease-in-out;
}

.card > p {
    color: #b638ff;
    font-size: 3vh;
    font-weight: 500;
}

.card.dark-mode > p {
    color: #f24128;
}

/* Circle Progress */
.circle-progress {
    position: relative;
    display: inline-block;
    margin: 2vh auto;
    width: 25vh;
    height: 25vh;
    animation: spin 1.3s ease infinite;

}

.circle-progress svg {
    display: block;
    animation: scaleIn 1.1s ease;
}

.circle-progress .percentage {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 3.5vh;
    font-weight: 600;
    color: var(--text-color);
    animation: fadeIn 1.1s ease;
}

.circle-progress.dark-mode .percentage {
    color: var(--dark-text-color);
}
/* Last Completed Card */
.last-chapter-card {
     background-color: #fff;
     padding: 4.5vh;
     border-radius: 2vh;
     box-shadow: var(--box-shadow-light);
     transition: transform 0.4s ease, box-shadow 0.4s ease;
     cursor: pointer;
     outline: none;
     animation: fadeIn 0.9s ease;
     text-align: left;
     height: auto;
     position: relative; /* To position the token */
     overflow: hidden; /* Clip token overflow */
 }

.last-chapter-card.dark-mode {
    background-color: var(--dark-secondary-color);
}

.last-chapter-card:hover,
.last-chapter-card.focused {
    transform: translateY(-1vh);
    box-shadow: var(--box-shadow-medium);
}


.last-chapter-card h2 {
    margin-bottom: 2vh;
    color: orangered;
    font-weight: 600;
    font-size: 3.2vh;
}
.last-chapter-card.dark-mode h2 {
    color: var(--dark-text-color);
}

.last-chapter-card p {
    color: #724bff;
    font-weight: 600;
    font-size: 3.6vh;
}

.last-chapter-card.dark-mode p {
    color: #ffda00;
}

/* Course Progress Card */
.course-progress-card {
    background-color: #fff;
    padding: 4.5vh;
    border-radius: 2vh;
    box-shadow: var(--box-shadow-light);
    transition: transform 0.4s ease, box-shadow 0.4s ease;
    cursor: default;
    outline: none;
    animation: fadeIn 0.9s ease;
     display: flex;
    flex-direction: column;
    align-items: stretch;
    overflow: hidden;
}
.course-progress-card.dark-mode {
      background-color: var(--dark-secondary-color);
}
.course-progress-card h2 {
     margin-bottom: 2vh;
     color: var(--text-color);
     font-weight: 600;
     font-size: 3vh;
}
.course-progress-card.dark-mode h2 {
    color: var(--dark-text-color);
}
/* Subject Progress Styles */
.subject-progress {
    margin-bottom: 4vh;
    display: flex;
    flex-direction: column;
    width: 100%;
     transition: all 0.3s ease;
}

.subject-progress-header {
    display: flex;
    align-items: center;
    margin-bottom: 1vh;
}
.subject-progress-header h3{
    margin: 0 0 0 2vh;
     color:orangered;
    font-weight: 500;
    font-size: 2.8vh;
}
.subject-progress-header.dark-mode h3 {
    color: var(--dark-text-color);
}
.subject-icon {
    font-size: 3vh;
    margin-right: 1vh;

}

.subject-progress .progress-bar {
    background-color: var(--secondary-color);
    height: 2.3vh;
    border-radius: 1vh;
    overflow: hidden;
    margin-bottom: 1vh;
    display: flex;
    align-items: center;

}
.subject-progress .progress-bar.dark-mode {
    background-color: #333;
}
.subject-progress .progress-bar-inner {
    height: 100%;
    background-color: var(--primary-color);
    border-radius: 1vh;
     transition: width 0.9s ease-in-out;
}
.subject-progress .percentage {
    margin-left: 2vh;
     font-size: 2.5vh;
    font-weight: 500;
    color:#00ff22;
      flex-shrink: 0;
}

.subject-progress .percentage.dark-mode {
    color: #ffda00
}
.subject-progress.dark-mode .percentage {
    color: var(--dark-text-light-color);
}

/* Points Token Animation */

.token-container {
    position: absolute;
    top: 8vh;
    right: 8vh;
    pointer-events: none;
    display: flex;
    justify-content: center;
    align-items: center;
}

.token {
    width: 13vh;
    height: 13vh;
    background: radial-gradient(circle, #ffcc00 30%, #ffd700 60%, #ffb700 100%);
    border-radius: 50%;
    position: relative;
    box-shadow: 0 0 2.5vh #ffcc00, 0 0 4vh #ffd700;
    animation: spin 1s linear infinite, bounce 1s ease-in-out infinite alternate;
}

.token::before {
    content: '$';
    font-size: 4vh;
    font-weight: bold;
    color: #fff;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-shadow: 0.4vh 0.4vh 0.8vh rgba(255, 255, 255, 0.8);
}

/* Spinning animation */
@keyframes spin {
    from {
        transform: rotateY(0deg) rotateZ(0deg);
    }
    to {
        transform: rotateY(360deg) rotateZ(360deg);
    }
}

/* Bouncing animation */
@keyframes bounce {
    from {
        transform: translateY(0);
    }
    to {
        transform: translateY(-2vh);
    }
}



/* Study Section */
#study .study-page {
    padding: 4vh;
     animation: slideInRight 1s ease;
    height: 230vh;
    display: flex;
    flex-direction: column;
}

#study h2 {
    font-weight: 600;
    font-size: 2.5vh;
    color: #000000;
    margin-bottom: 4vh;
    animation: fadeIn 0.9s ease;
}

body.dark-mode #study h2 {
    color: #b700ff
}

#study .study-content {
      /* display: flex;
    width: 100%;
    gap: 20px;
    overflow-y: hidden;
     */ /*Removed all the properties that makes the study section a container*/
    flex-grow: 1;
      display: flex;
        flex-direction: column; /* ADDED */
        padding-bottom: 70vh;
}


#study .study-menu {
    list-style: none;
    padding: 8vh;
    margin: 0;
    width: 100%;
    overflow-y: auto;
    max-height: 150vh;
    position: relative;
    padding-bottom: 60vh;
     padding-left: 0px;
     display: block;
     flex-grow: 1; /* ADDED */
    }

/* --- Subject List Item Styles --- */
#study .study-menu-item {
    display: flex;
    cursor: pointer;
    position: relative;
    overflow: hidden;
    margin: 0 0 2.5vh 0;
    width: 98%;
    height: 17vh;
    border-radius: 1.4vh;
    background-color: #fff;
    box-shadow: var(--box-shadow-light);
    transition: var(--transition-fast), transform 0.3s ease;
    outline: none;
    padding: 0;
    animation: slideInLeft 0.5s ease;
    border: 0.2vh solid #e0e0e0;
}

#study .study-menu-item.dark-mode {
   background-color: #202020;
   border: 0.2vh solid #b458ff;
}
#study .study-menu-item:hover,
#study .study-menu-item.focused {
    background-color: var(--hover-color);
    transform: translateX(1vh);
    box-shadow: var(--box-shadow-medium);
}

#study .study-menu-item.dark-mode:hover {
    background-color: var(--dark-hover-color);
}

#study .study-menu-item-image {
    width: 14vh;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 4vh;
    transition: all 0.3s ease;
    color: var(--text-light-color);
    padding: 2vh;
}

#study .study-menu-item.dark-mode .study-menu-item-image {
    color: #fff;
}

#study .study-menu-item-content {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 2vh 4vh;
    width: calc(100% - 16vh);
}
#study .study-menu-item-content h3{
    margin:0;
    font-size: 2.8vh;
}
/* --- Chapter List Item Styles --- */
.chapter-button {
   display: flex;
    cursor: pointer;
    position: relative;
    overflow: hidden;
    margin: 0 0 2.5vh 0;
    /* Reduced width */
    width: 95%;
    height: 14vh;
    border-radius: 1.4vh;
     box-shadow: var(--box-shadow-light);
    transition: var(--transition-fast), transform 0.3s ease;
    outline: none;
    animation: slideInRight 0.5s ease;
    background-color: #fff;
    border: 0.2vh solid #ffffff;
    padding-top: 2vh;
}


body.dark-mode .chapter-button{
    background-color: #202020;
    border: 1px solid #cb00e69a;
    fill:#333;
}

body.dark-mode .chapter-button:hover{
    background-color: #313131;
    border: 1px solid #cb00e69a;
    fill:#333;
}

.chapter-button:hover,
.chapter-button.focused {
    background-color:#f5f5f5;
    transform: translateX(1vh);
    padding-top: 2vh;
      box-shadow: var(--box-shadow-medium)
    }

      .chapter-button.dark-mode:hover {
          background-color: #202020;
      }
      
      .chapter-button-image {
          width: 14vh;
          flex-shrink: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 4vh;
          transition: var(--transition-fast);
          color: var(--text-light-color);
          padding: 2vh;
      }
      
      .chapter-button.dark-mode .chapter-button-image {
          color: #fff;
      }
      
      .chapter-button-content {
          flex-grow: 1;
          display: flex;
          flex-direction: column;
          justify-content: center;
          padding: 2vh 4vh;
          width: calc(100% - 16vh);
      }
      .chapter-button-content h3{
          margin:0;
        font-size: 2.6vh;
      }
      
      #study .study-menu-item-content h3 {
          font-size: 3vh;
          margin: 0 0 1vh 0;
          font-weight: 500;
      }
      
      #study .study-menu-item-content p {
          font-size: 2.5vh;
          color: var(--text-light-color);
      }
      
      #study .study-menu-item.dark-mode .study-menu-item-content p {
          color: #fff;
      }
      .chapter-button-content p{
           font-size: 2.2vh;
           color: var(--text-light-color);
      }
      .chapter-button.dark-mode .chapter-button-content p{
          color: #fff;
      }
      #study .chapters-container {
          margin-top: 4vh;
          width: 100%;
          padding-bottom: 17vh;
          max-height: 160vh;
          padding-left: 0px;
            display: none;
            flex-grow: 1; /* ADDED */
      
      }
      
      
      #study .chapter-content-container {
          margin-top: 4vh;
          position: relative;
          transition: var(--transition-fast);
          display: none;
          overflow-y: auto;
             flex-grow: 1; /* ADDED */
      }
      
      
      
      #study .back-button-container {
          display: flex;
          justify-content: flex-start;
          align-items: center;
      }
      
      
      #study .back-button {
          padding: 2.5vh 5vh;
          font-size: 2vh;
          cursor: pointer;
          margin: 2.7vh 0;
          width: auto;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 0.2vh;
          background-color: #000;
          border: 0.3vh solid #000;
          color: #fff;
          border-radius: 1vh;
          outline: none;
          transition: var(--transition-fast);
      }
      #study .back-button.dark-mode {
          background-color: #000;
          border: 0.3vh solid #000;
           color: #fff;
      }
      
      #study .back-button:hover {
          background-color: #333;
          border: 0.3vh solid #333;
      }
      
      #study .back-button.dark-mode:hover{
          background-color: #333;
           border: 0.3vh solid #333;
      }
      
      #study .back-button i.icon {
          margin-right: 1.3vh;
          font-size: 2.3vh;
          animation: slideInUp 0.7s ease;
          color: #fff;
      }
      
      #study .back-button span{
          animation: slideInUp 0.7s ease;
      }
      #study .content-area {
           padding: 0px;
           overflow-y: hidden; /*Add this to remove the inner scrollbar */
          /* max-height: 800px; */ /* Removed Max Height */
      }
      
      #study .chapter-title {
          font-weight: 600;
          font-size: 3.3vh;
          margin-bottom: 2vh;
      }
      
      #study .chapter-title.dark-mode {
          color: #fff;
      }
      
      #study .content-text {
          font-size: 2.6vh;
          color: #000000;
           line-height: 1.7;
            padding: 0; /* removed padding from the content text */
        }
        #study .content-text.dark-mode {
          color: #ffffff;
      }
      
      #study .chapter-section{ /*Added style for chapter sections*/
         padding: 0;
          margin: 0;
      }
      
      #study .content-text.dark-mode {
          color: #fff;
      }
      
      #study .loading-indicator {
          text-align: center;
          font-size: 2.2vh;
          color: var(--text-light-color);
      }
      
      #study .loading-indicator.dark-mode {
          color: #fff;
      }
      
      #study .error-message {
          text-align: center;
          padding: 2vh;
          font-size: 2.2vh;
      }
      
      #study .error-text {
          color: var(--error-color);
      }      #study .error-message.dark-mode {
        color: #fff;
     }
     #study .error-text.dark-mode {
        color: #fff;
     }
     
     /*Subject Time Card*/
     #subject-time-card {
         background-color: #fff;
         padding: 4.5vh;
         border-radius: 2vh;
         box-shadow: var(--box-shadow-light);
         transition: background-color 0.8s ease, color 0.8s ease, transform 0.4s ease, box-shadow 0.4s ease;
         cursor: default;
         outline: none;
         animation: fadeIn 0.9s ease;
          display: flex;
         flex-direction: column;
         align-items: stretch;
          overflow: hidden;
     }
     #subject-time-card.dark-mode {
           background-color: var(--dark-secondary-color);
     }
     #subject-time-card h2 {
          margin-bottom: 2.5vh;
          color: var(--text-color);
          font-weight: 600;
          font-size: 3.2vh;
         }
         #subject-time-card.dark-mode h2 {
             color: var(--dark-text-color);
         }
         .subject-time {
             margin-bottom: 4vh;
             display: flex;
             flex-direction: column;
             width: 100%;
              transition: all 0.3s ease;
         }
         .subject-time-header {
             display: flex;
             align-items: center;
             margin-bottom: 1vh;
         }
         .subject-time-header h3{
             margin: 0 0 0 2vh;
              color:orangered;
             font-weight: 500;
             font-size: 3.2vh;
         }
         .subject-time-header.dark-mode h3 {
             color: var(--dark-text-color);
         }
        /* Existing rule */
        .subject-time .time-spent {
            margin-left: 2vh;
            font-size: 2.8vh;
            color: #00ff22;
            font-weight: 600;
            flex-shrink: 0;
        }

        /* Dark mode rule - using body.dark-mode as the parent */
        body.dark-mode .subject-time .time-spent {
            color: gold;
        }
         /* Profile and Help Sections */
         #profile h2,
         #help h2 {
             font-weight: 600;
             font-size: 3vh;
             margin-bottom: 3.5vh;
             animation: slideInLeft 1.2s ease;
         }
         
         #profile.dark-mode h2,
         #help.dark-mode h2 {
             color: #fff;
         }
         
         #profile p,
         #help p {
             font-size: 2.8vh;
             color: #000;
             animation: slideInRight 1.2s ease;
         
         }

         body.dark-mode #profile p{
            color: #ffd65e;
         }
         
         #profile.dark-mode p,
         #help.dark-mode p {
             color: #fff;
         }
         
         /* SOS Button in Help Section */
         #sosButton {
             /* Inherits styling from the  existing style. */
             /* Customize the button further    here, if necessary */
             background-color: var(--error-color); /* Example color, use your theme's error color */
             color: #fff;
              font-size: 3vh;
             padding: 2.7vh 4.5vh;
             border: none;
             border-radius: 1.4vh;
             cursor: pointer;
             transition: background-color 0.3s ease; /* Added transition */
               font-weight: bold; /* Make the font bolder */
             letter-spacing: 0.17vh;
             min-width: 24vh;
             min-height: 16vh;
         }
         
         #sosButton:hover {
             background-color: #c0392b; /* Darker shade for hover effect */
         }
         
         /* SOS Overlay */
         #sosOverlay {
           position: relative;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           background: rgba(0, 0, 0, 0.7); /* Black with 70% opacity */
           z-index: 10002; /* Changed to 1002 - higher than the test modal */
           display: none;
           transition: opacity 0.3s ease; /* Added Transition */
       }
       
         
         #sosOverlay.dark-mode {
           background: rgba(0, 0, 0, 0.9);
          }
         
         /* "Turn Off SOS" Button */
         #cancelSosButton {
             position: absolute;
             top: 50%;
             left: 50%;
             transform: translate(-50%, -50%);
             padding: 4.5vh 9vh;
             font-size: 4.5vh;
             background: white;
             color: black;
             border: 0.5vh solid red;
             border-radius: 2.2vh;
             cursor: pointer;
             z-index: 10001;
             outline: none;
             transition: background-color 0.3s ease;
         }
         
         #cancelSosButton:hover {
             background: #e0e0e0; /* Slightly lighter background on hover */
         }
/* Add this CSS to your stylesheet or within <style> tags */

/* --- Set Root and Label Font Sizes using VH --- */
html {
    /* 2vh root font size - affects 'rem' units elsewhere if used */
    font-size: 2vh;
    /* Consider adding min/max font-size with clamp() for better control if needed */
    /* font-size: clamp(12px, 2vh, 18px); */ /* Example clamp */
  }
  
  #placementTestForm label {
    display: block;
    position: relative;
    /* Set label font size */
    font-size: 3vh;
    /* Consider adding min/max font-size with clamp() for better control */
    /* font-size: clamp(14px, 3vh, 22px); */ /* Example clamp */
  
    /* --- Adjustments using EM (relative to the 3vh font-size) --- */
  
    /* Padding left needs to accommodate the radio width + gap */
    padding-left: 1.6em; /* Approx radio width (1.2em) + gap (0.4em) */
    /* Line height should match radio height for vertical alignment */
    line-height: 1.2em; /* Matches the height of span::before */
    margin-bottom: 0.5em; /* Space between options, relative to font size */
    cursor: pointer;
    user-select: none;
  }
  
  /* Hide the Default Radio Button */
  #placementTestForm input[type="radio"] {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
  }
  
  /* Create the Custom Radio Button Appearance (using EM) */
  #placementTestForm label span::before {
    content: "";
    position: absolute;
    left: 0;
    /* Center vertically relative to line-height (which matches height) */
    top: 0;
    /* --- SIZE IN EM (relative to label's 3vh font-size) --- */
    height: 1.2em; /* Size relative to font size */
    width: 1.2em;  /* Size relative to font size */
    background-color: #eee;
    /* Border size relative to font size */
    border: 0.1em solid #ccc;
    border-radius: 50%;
    box-sizing: border-box;
    transition: background-color 0.2s ease, border-color 0.2s ease;
  }
  
  /* Style when hovered */
  #placementTestForm label:hover span::before {
    border-color: #aaa;
  }
  
  /* Style the outer circle when checked */
  #placementTestForm input[type="radio"]:checked + span::before {
    background-color: #2196F3;
    border-color: #2196F3;
  }
  
  /* Create the inner indicator (dot) (using EM) */
  #placementTestForm label span::after {
    content: "";
    position: absolute;
    display: none;
    /* --- Position & Size relative to outer circle (adjust carefully) --- */
    /* Positioning: (Outer Size - Dot Size - 2*Border) / 2 + Border */
    /* Example: (1.2em - 0.5em - 2*0.1em) / 2 + 0.1em = (0.5em)/2 + 0.1em = 0.25em + 0.1em = 0.35em */
    left: 0.35em;
    top: 0.35em;
    width: 0.5em;  /* Size of the inner dot relative to font */
    height: 0.5em; /* Size of the inner dot relative to font */
    border-radius: 50%;
    background: white;
  }
  
  /* Show the inner dot when the radio is checked */
  #placementTestForm input[type="radio"]:checked + span::after {
    display: block;
  }
  
  /* Accessibility: Focus Styles (using EM) */
  #placementTestForm input[type="radio"]:focus + span::before {
    /* Outline relative to font size */
    outline: 0.1em solid dodgerblue;
    outline-offset: 0.1em;
  }
  
        
         /* Enable Actions button styling */
         #enableActions {
             position: absolute;
             bottom: 3.7vh;
             left: 3.7vh;
             padding: 2.2vh 4.5vh;
             cursor: pointer;
             font-weight: 600;
             font-size: 2vh;
             letter-spacing: 0.2vh;
             background-color: var(--primary-color);
             border: none;
             color: #fff;
             border-radius: 1vh;
             outline: none;
             transition: var(--transition-fast);
             z-index: 10010; /* Ensure it's above other elements */
             box-shadow: var(--box-shadow-light);
             animation: fadeIn 0.7s ease;
         }
         
         #enableActions:hover {
            background-color: var(--primary-dark-color)
         }
         
         #enableActions:disabled {
             background-color: #95a5a6;
             cursor: not-allowed;
         }
         
         /* In para-style.css, below the  #enableActions section */
         #logout-button {
             padding: 2.2vh 4.5vh;
             font-size: 1rem;
             cursor: pointer;
             font-weight: 600;
             text-transform: uppercase;
             letter-spacing: 0.2vh;
             background-color: var(--accent-color);
             border: none;
             color: #fff;
             border-radius: 1vh;
             outline: none;
             transition: var(--transition-fast);
             margin-top: 3.7vh;
             display: inline-block;
              box-shadow: var(--box-shadow-light);
             animation: fadeIn 0.7s ease;
         }
         
         #logout-button:hover {
             background-color: var(--error-color);
         }
         
         
         /* Scrollbar Styling */
         ::-webkit-scrollbar {
             width: 2vh;
         }
         
         ::-webkit-scrollbar-track {
             background: #f1f1f1;
             border-radius: 1vh;
         }
         
         ::-webkit-scrollbar-thumb {
             background: #888;
             border-radius: 1vh;
         }
         
         ::-webkit-scrollbar-thumb:hover {
             background: #555;
         }
         
         /* Responsive Design */
         @media (max-width: 768px) {
             .container {
                 flex-direction: column;
             }
         
             .toolbar-container {
                 width: 100%;
                 height: auto;
                  position: static;
                   padding-bottom: 0;
                   display: block; /* ADDED */
             }
            .toolbar{
               box-shadow: 0px 0.4vh 1vh rgba(0, 0, 0, 0.1);
            }
         
             .menu {
                  display: flex;
                  flex-direction: column;
                 overflow-y: auto;
                  overflow-x: hidden;
                   display: block; /* ADDED */
             }
         
             .menu-item {
                 margin: 0 2vh;
             }
         
             #study .study-content {
                 flex-direction: column;
             }
         
            #study .study-content {
                 flex-direction: column;
                 overflow-y: auto;
             }
         
         
              #study .study-menu,
             #study .chapters-container {
                  padding-bottom: 16vh;
                  padding-left: 0;
                   min-height: 300vh;
                   max-height: 450vh;
             }
             #study .chapter-content-container{
                 max-width: 95%;
             }
         
              .content{
                  margin-left: 0;
             }
         
         
             .card-container {
                flex-direction: column;
                display: flex;
                flex-wrap: wrap;
                align-items: stretch; /* Align cards to stretch in a column */
                }
              .card{
                flex: 1;
                min-width: 100%;
              }
         }
         
         /* Animations */
         @keyframes fadeIn {
             from {
                 opacity: 0;
             }
         
             to {
                 opacity: 1;
             }
         }
         
         @keyframes scaleIn {
             from {
                 transform: scale(0.8);
                 opacity: 0.5;
             }
         
             to {
                 transform: scale(1);
                 opacity: 1;
             }
         }
         
         @keyframes slideInLeft {
             from {
                 transform: translateX(-50px);
                 opacity: 0;
             }
         
             to {
                 transform: translateX(0);
                 opacity: 1;
             }
         }
         
         @keyframes slideInRight {
             from {
                 transform: translateX(50px);
                 opacity: 0;
             }
         
             to {
                 transform: translateX(0);
                 opacity: 1;
             }
         }
         
         @keyframes fadeInUp {
             from {
                 opacity: 0;
                 transform: translateY(30px);
             }
         
             to {
                 opacity: 1;
                 transform: translateY(0);
             }
         }
         /* Add these transitions to the relevant CSS rules in para-style.css */
         body {
             transition: background-color 0.8s ease, color 0.8s ease;
             background-image: linear-gradient(to bottom, #f0f0f0, #e9e9e9);
         }
         .container{
             transition: background-color 0.8s ease, color 0.8s ease;
         }
         .logo-container{
             transition: background-color 0s;
         }
         .toolbar{
             transition: background-color 0.8s ease, color 0.8s ease;
         }
         .welcome-banner {
             transition: background-color 0.8s ease, color 0.8s ease;
         }
         .card {
             transition: background-color 0.8s ease, color 0.8s ease, transform 0.4s ease, box-shadow 0.4s ease;
         }
         .progress-bar{
             transition: background-color 0.8s ease, color 0.8s ease;
         }
         .circle-progress .percentage{
               transition: color 0.8s ease;
         }
         #study .study-menu-item {
             transition: background-color 0.8s ease, color 0.8s ease, transform 0.3s ease, box-shadow 0.4s ease;
         }
         .chapter-button {
            transition: background-color 0.8s ease, color 0.8s ease, transform 0.3s ease, box-shadow 0.4s ease;
         }
         #study .chapter-content-container {
             transition: background-color 0.8s ease, color 0.8s ease, transform 0.3s ease, box-shadow 0.4s ease;
         }
         #study .content-text{
             transition: color 0.8s ease;
         }
         #study .chapter-title{
             transition: color 0.8s ease;
         }
         #study .back-button{
              transition: background-color 0.8s ease, color 0.8s ease;
         }
         #profile h2, #help h2 {
                 transition: color 0.8s ease;
         }
         #profile p, #help p {
              transition: color 0.8s ease;
         }
         
         /* Placement Test Styles */
         #placementTestModal {
           font-family: 'Poppins', sans-serif; /* Added semicolon here */
           font-size: 3vh;
           display: none;
           position: fixed;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           background: rgba(0, 0, 0, 0.5); /* Added value for background, also could be black */
           z-index: 1001;
           overflow: auto;
         }
          #placementTestModal .modal-content {
              background: white;
              padding: 5vh;
              width: 85%;
              position: relative;
              max-width: 85vh;
              z-index:1001;
              margin: 8vh auto;
              border-radius: 2vh;
              overflow-y: auto; /*Added for internal scrolling if it doesn't fit*/
              max-height: calc(100vh - 17vh); /* Sets a max height based on viewport height*/
         }
         
         #placementTestModal h2 {
             color: var(--primary-color);
             margin-bottom: 2.5vh;
             font-size: 3.5vh;
         }
         .test-question {
             margin: 4vh 0;
             padding: 3vh;
             background: #f8f9fa;
             border-radius: 1.5vh;
         }
         
         .test-question label {
             display: block;
             margin: 2vh 0;
             font-size: 2.7vh;
             cursor: pointer;
         }
         
         #placementTestForm button {
           background: var(--primary-color);
           color: white;
           font-size: 3vh;
           padding: 2vh 5vh;
           border: none;
           border-radius: 1vh;
           cursor: pointer;
           margin-top: 3vh;
           width: 100%; /* Add this line */
           display: block;
           margin-bottom: 80vh;
       }
         
         #placementTestForm button:hover {
             background: var(--primary-dark-color);
         }
         /* New User Level Container */
#user-level-container {
   display: inline-block;
   background-color: var(--secondary-color); /* Light gray */
   color: var(--text-color); /* Dark text */
   padding: 1.8vh 2.2vh;
   border-radius: 1vh;
    box-shadow: var(--box-shadow-light);
   font-size: 2.3vh;
   margin-right: 2.5vh;
   transition: background-color 0.4s ease, color 0.4s ease;
     margin-bottom: 2.5vh;
   font-weight: 600;
  animation: slideInLeft 0.7s ease;
}

#user-level-container.dark-mode {
     background-color: var(--dark-secondary-color); /* Darker gray */
   color: var(--dark-text-color); /* Light text */
}

#convert-to-audio {
    padding: 2.5vh 5vh;
    font-size: 2vh;
    cursor: pointer;
    margin: 2.7vh 0;
    width: auto;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.2vh;
    font-weight: 600;
    background-color: #9538ff;
    border: #9538ff;
    color: #fff;
    border-radius: 1vh;
    outline: none;
    transition: var(--transition-fast);
}

#convert-to-audio:hover {
    background-color: #ff5a70; /* Slightly lighter purple */
    border: #ff5a70;
}

#convert-to-audio:active {
    background-color: #4a0ca0;
    transform: scale(0.95);
}

#convert-to-audio{
    transition: background-color 0.8s ease, color 0.8s ease;
}

#play-audio {
    padding: 2.5vh 5vh;
    cursor: pointer;
    font-size: 2vh;
    font-weight: 700;
    margin: 2.7vh 0;
    width: auto;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.2vh;
    background-color: #57ff24;
    border: 0.3vh solid #57ff24;
    color: #fff;
    border-radius: 1vh;
    outline: none;
}

/* General styling */
.quiz-question {
    margin-bottom: 2vh;  /* Vertical space */
    padding: 2vh;       /* Internal spacing */
    border: 0.1vh solid #ddd; /* Border */
    border-radius: 1vh;  /* Rounded corners */
    font-size: 3vh;      /* Overall font size */
}

/* Improve styling of the label */
.quiz-options {
    list-style: none;
    padding: 0;
    margin: 1vh 0;        /* Vertical spacing */
}

.quiz-option {
    margin-bottom: 1vh;   /* Space between options */
    display: flex;          /* Align radio and label */
    align-items: center;    /* Vertically center items */
}

.quiz-option label {
    cursor: pointer;        /* Make labels clickable */
    margin-left: 1vh;      /* Space between radio and label */
    font-size: 2.5vh;      /* Label text size */
    line-height: 1.3;     /* Line height to align text */
}

/* Outer circle size - relative to the quiz-option font-size */
.quiz-option input[type="radio"] {
    /* Remove default radio appearance */
    appearance: none;
    -webkit-appearance: none;
    /* Create custom appearance */
    min-width: 3vh; /* Relative size */
    min-height: 3vh; /* Relative size */
    max-width: 3vh; /* Relative size */
    max-height: 3vh;
    border: 0.2vh solid #bbb; /* Adjust thickness */
    border-radius: 50%;
    outline: none; /* Remove focus outline */
    position: relative; /* For inner circle positioning */
    cursor: pointer;
}

.quiz-option input[type="radio"]:checked {
    border-color: #2196F3; /* Change color on selection */
    background-color: #fff; /* Optional background */
}

.quiz-option input[type="radio"]:checked::before {
    content: '';
    position: absolute;
    top: 50%; /* Center the dot vertically */
    left: 50%; /* Center the dot horizontally */
    transform: translate(-50%, -50%); /* Precisely center the dot */
    width: 1.5vh; /* Size of the inner dot */
    height: 1.5vh; /* Size of the inner dot */
    border-radius: 50%;
    background-color: #2196F3;
}

/* Correct/Incorrect/Unanswered */
.quiz-question.correct {
    background-color: #d4edda;
    border-color: #c3e6cb;
}

.quiz-question.incorrect {
    background-color: #f8d7da;
    border-color: #f5c6cb;
}

.quiz-question.unanswered {
    background-color: #ffffe0;
    border-color: #ffe8a1;
}

/* Correct Answer text */
.quiz-question .correct-answer {
    font-style: italic;
    color: #007bff;
    margin-top: 1vh;   /* Spacing */
    font-size: 3vh;      /* Text size */
}

/* Quiz Feedback */
.quiz-feedback {
    margin-top: 4vh;      /* Spacing */
    font-weight: bold;
    padding: 2vh;        /* Internal spacing */
    background-color: #e9ecef;
    border-radius: 1vh;  /* Rounded corners */
    font-size: 2.3vh;      /* Text size */
}
/* Submit Button Styling */
.quiz-container form button[type="submit"] {
    background-image: linear-gradient(to right, #6a11cb 0%, #2575fc 100%); /* Gradient background */
    color: #fff; /* White text */
    padding: 1.8vh 3.5vh; /* Slightly larger padding */
    border: none;
    border-radius: 1vh;
    font-size: 2.6vh; /* Increased font size */
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease; /* Smoother transition */
    margin-top: 4vh; /* Increased margin */
    outline: none;
    text-transform: uppercase; /* Uppercase text */
    letter-spacing: 0.1vh; /* Slightly wider spacing */
    font-weight: 600; /* Bolder font */
    box-shadow: 0 0.5vh 1.2vh rgba(0, 0, 0, 0.2); /* Subtle shadow */
}

/* Submit Button Styling (Using ID) */
#quiz-submit-button {
    background-image: linear-gradient(to right, #6a11cb 0%, #2575fc 100%); /* Gradient background */
    color: #fff; /* White text */
    padding: 1.8vh 3.5vh; /* Slightly larger padding */
    border: none;
    border-radius: 1vh;
    font-size: 2.6vh; /* Increased font size */
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease; /* Smoother transition */
    margin-top: 4vh; /* Increased margin */
    outline: none;
    text-transform: uppercase; /* Uppercase text */
    letter-spacing: 0.1vh; /* Slightly wider spacing */
    font-weight: 600; /* Bolder font */
    box-shadow: 0 0.5vh 1.2vh rgba(0, 0, 0, 0.2); /* Subtle shadow */
}

#quiz-submit-button:hover {
    transform: translateY(-0.2vh); /* Slight lift on hover */
    box-shadow: 0 0.7vh 1.5vh rgba(0, 0, 0, 0.3); /* Increased shadow */
}

#quiz-submit-button:active {
    transform: translateY(0); /* Press effect */
    box-shadow: 0 0.3vh 0.8vh rgba(0, 0, 0, 0.2); /* Reduced shadow on press */
}

#quiz-submit-button:disabled {
    background-image: none; /* Remove gradient */
    background-color: #95a5a6; /* Gray color */
    color: #ecf0f1; /* Lighter text */
    cursor: not-allowed;
    box-shadow: none; /* Remove shadow */
    transform: none; /* Remove transformation */
}
/* Dark Mode Quiz Styling */
body.dark-mode .quiz-question {
    background-color: #333; /* Darker background */
    border-color: #555; /* Darker border */
    color: #ffffff; /* Lighter text color */
}

body.dark-mode .quiz-options li {
    color: #ffffff; /* Slightly lighter text for options */
}

body.dark-mode .quiz-option label {
    color: #ffffff; /* Lighter label text */
}

body.dark-mode .quiz-question.correct {
    background-color: #4CAF50; /* Darker green */
    border-color: #43A047;
    color: white; /* White text for correct answers */
}

body.dark-mode .quiz-question.incorrect {
    background-color: #4e1d19; /* Darker red */
    border-color: #d32f2f;
    color: white; /* White text for incorrect answers */
}

body.dark-mode .quiz-question.unanswered {
    background-color: #ffeb3b; /* Darker yellow */
    border-color: #fbc02d;
    color: #222; /* Dark text for unanswered */
}

body.dark-mode .quiz-question .correct-answer {
    color: #b2ff59; /* Correct answer text color */
}

body.dark-mode .quiz-feedback {
    background-color: #424242; /* Dark feedback background */
    color: #fff; /* White feedback text */
}

body.dark-mode #quiz-submit-button {
    background-image: linear-gradient(to right, #9c27b0 0%, #673ab7 100%); /* Darker gradient */
    color: #fff;
    box-shadow: 0 0.5vh 1.2vh rgba(0, 0, 0, 0.4); /* Darker shadow */
}

body.dark-mode #quiz-submit-button:hover {
    box-shadow: 0 0.7vh 1.5vh rgba(0, 0, 0, 0.5);
}

body.dark-mode #quiz-submit-button:disabled {
    background-color: #666; /* Darker gray when disabled */
    color: #aaa;
}